{"id":"ai-0rl","title":"Config management - .lattice/config.toml read/write/init","description":"Create internal/config/ package. Init creates .lattice/ dir structure and default config.toml. Load/Save handle TOML serialization. Config tracks: session metadata, bead counter, and per-team state (id, type, prefix, agent count, intensity, status, tmux window).","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-11T09:41:04.947073874+11:00","created_by":"kingrea","updated_at":"2026-02-11T10:14:12.864934796+11:00","closed_at":"2026-02-11T10:14:12.864934796+11:00","close_reason":"Closed","dependencies":[{"issue_id":"ai-0rl","depends_on_id":"ai-js2","type":"blocks","created_at":"2026-02-11T09:43:48.231980074+11:00","created_by":"kingrea"}]}
{"id":"ai-20l","title":"Tmux integration - WSL session/window management","description":"Create internal/tmux/ package. All commands run as wsl tmux since user is on Windows with tmux in WSL. Includes: session create/attach/kill, window create/rename/send-keys, and Windows-to-WSL path translation (G:\\foo -\u003e /mnt/g/foo). Manager detects tmux availability and provides clean exec wrapper.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-11T09:41:12.075831199+11:00","created_by":"kingrea","updated_at":"2026-02-11T10:17:50.2798261+11:00","closed_at":"2026-02-11T10:17:50.2798261+11:00","close_reason":"Closed","dependencies":[{"issue_id":"ai-20l","depends_on_id":"ai-js2","type":"blocks","created_at":"2026-02-11T09:43:54.923588872+11:00","created_by":"kingrea"}],"comments":[{"id":5,"issue_id":"ai-20l","author":"kingrea","text":"## Core Functions\n- NewManager() - Detect tmux via WSL, return manager\n- CreateSession(name) - wsl tmux new-session -d -s name -n dashboard\n- CreateWindow(session, name) - Add window to session\n- SendKeys(session, window, cmd) - Execute command in window\n- AttachSession(session) - Hand over stdin/stdout for interactive use\n- ListWindows(session) - Get window info for dashboard\n- TranslateToWSLPath(windowsPath) - G:\\Node-Websites -\u003e /mnt/g/Node-Websites\n\n## Done When\n- Can create session, add windows, send keys, and attach\n- Path translation handles drive letters and backslashes","created_at":"2026-02-10T22:41:25Z"}]}
{"id":"ai-5kf","title":"Auto-generate discovery - opencode codebase analysis","description":"Create internal/discovery/discover.go. Runs opencode in the target project to analyze structure and identify 3-10 auditable areas. Outputs JSON with area name, path, description. Parses response with robust JSON extraction (handles opencode preamble). Fallback: manual entry if parsing fails. Integrates into wizard step 0 as an intermediate discovery step.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-11T09:42:29.908979001+11:00","created_by":"kingrea","updated_at":"2026-02-11T09:42:29.908979001+11:00","dependencies":[{"issue_id":"ai-5kf","depends_on_id":"ai-20l","type":"blocks","created_at":"2026-02-11T09:45:01.036446803+11:00","created_by":"kingrea"}]}
{"id":"ai-8gd","title":"Audit type registry - define 8 audit types with focus areas and roles","description":"Create internal/teams/audit_types.go with the registry of all 8 audit types. Each type has: ID, name, bead prefix, focus areas (6 per type), 3 role definitions (for 1/2/3 agent configs), and a short description for the TUI.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-11T09:39:49.427396634+11:00","created_by":"kingrea","updated_at":"2026-02-11T10:10:41.198716049+11:00","closed_at":"2026-02-11T10:10:41.198716049+11:00","close_reason":"Closed","dependencies":[{"issue_id":"ai-8gd","depends_on_id":"ai-js2","type":"blocks","created_at":"2026-02-11T09:43:13.798888163+11:00","created_by":"kingrea"}],"comments":[{"id":3,"issue_id":"ai-8gd","author":"kingrea","text":"## Audit Types (8)\n\n| ID | Name | Prefix | Focus |\n|---|---|---|---|\n| perf | Performance Audit | perf | Render perf, bundle size, network waterfalls |\n| memleak | Memory Leak Audit | mem | Event listener cleanup, closures, timers |\n| lighthouse | Lighthouse Score | lh | Core Web Vitals, a11y, SEO |\n| security | Security Audit | sec | XSS, auth, injection, OWASP |\n| maint | Code Maintainability | maint | Complexity, naming, error handling, test gaps |\n| xbrowser | Cross-browser Issues | xbr | CSS compat, JS APIs, layout engines |\n| a11y | Accessibility Audit | a11y | WCAG, keyboard nav, screen readers |\n| errhandling | Error Handling Audit | err | Unhandled errors, boundaries, retry logic |\n\n## Agent Count -\u003e Role Mapping\n- 1 agent: Senior specialist (alpha only)\n- 2 agents: Senior + Staff (alpha + bravo)\n- 3 agents: Senior + Staff + Domain specialist (alpha + bravo + charlie)\n\n## Done When\n- AuditTypes slice is defined with all 8 types\n- Each type has 6 focus areas and 3 role definitions with guidance text","created_at":"2026-02-10T22:40:05Z"}]}
{"id":"ai-a7f","title":"Dashboard - post-launch team status view","description":"Create internal/tui/dashboard.go. Shows all running teams with status, current loop/intensity, and agent count. Periodically reads .team files from each team folder. Keybindings: [t] suspend bubbletea and attach tmux (returns on Ctrl+B D), [r] refresh status, [q] quit lattice (tmux keeps running). Shows LATTICE branding and session name.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-11T09:42:45.270912504+11:00","created_by":"kingrea","updated_at":"2026-02-11T09:42:45.270912504+11:00","dependencies":[{"issue_id":"ai-a7f","depends_on_id":"ai-muq","type":"blocks","created_at":"2026-02-11T09:45:36.805556915+11:00","created_by":"kingrea"},{"issue_id":"ai-a7f","depends_on_id":"ai-e3f","type":"blocks","created_at":"2026-02-11T09:45:43.38343746+11:00","created_by":"kingrea"}]}
{"id":"ai-cvz","title":"TUI styles and key bindings","description":"Create internal/tui/styles.go (lipgloss styles for headers, lists, selections, etc.) and internal/tui/keys.go (key binding definitions for navigation). Foundation for all TUI components.","status":"open","priority":2,"issue_type":"task","created_at":"2026-02-11T09:41:46.720470859+11:00","created_by":"kingrea","updated_at":"2026-02-11T09:41:46.720470859+11:00","dependencies":[{"issue_id":"ai-cvz","depends_on_id":"ai-js2","type":"blocks","created_at":"2026-02-11T09:44:06.519108827+11:00","created_by":"kingrea"}]}
{"id":"ai-e3f","title":"App model - top-level screen routing","description":"Create internal/tui/app.go. Top-level bubbletea model that routes between screens: MenuScreen, WizardScreen, DashboardScreen. Handles window resize, navigation messages, and delegates Update/View to the active screen sub-model. Entry point: NewApp(cwd string).","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-11T09:42:15.491286659+11:00","created_by":"kingrea","updated_at":"2026-02-11T09:42:15.491286659+11:00","dependencies":[{"issue_id":"ai-e3f","depends_on_id":"ai-x5s","type":"blocks","created_at":"2026-02-11T09:44:41.636638402+11:00","created_by":"kingrea"},{"issue_id":"ai-e3f","depends_on_id":"ai-rkj","type":"blocks","created_at":"2026-02-11T09:44:49.1750041+11:00","created_by":"kingrea"}]}
{"id":"ai-hvn","title":"Bead prefix allocator - unique prefix per team","description":"Create internal/teams/bead_prefix.go. Allocates unique prefixes using format {type-prefix}-{global-counter}. Counter stored in .lattice/config.toml and incremented per team. Ensures uniqueness across multiple lattice runs (e.g. perf-1, sec-2, perf-3).","status":"closed","priority":2,"issue_type":"task","created_at":"2026-02-11T09:40:17.91196422+11:00","created_by":"kingrea","updated_at":"2026-02-11T10:20:33.377157614+11:00","closed_at":"2026-02-11T10:20:33.377157614+11:00","close_reason":"Closed","dependencies":[{"issue_id":"ai-hvn","depends_on_id":"ai-js2","type":"blocks","created_at":"2026-02-11T09:43:20.945989833+11:00","created_by":"kingrea"}]}
{"id":"ai-jqx","title":"Multi-select TUI component","description":"Create internal/tui/multiselect.go. Reusable multi-select list component for bubbletea. Features: j/k or up/down navigation, space to toggle, enter to confirm, a to select all. Each item has Label, Description, Selected bool, and generic Value. Used for audit type selection.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-11T09:41:53.707908322+11:00","created_by":"kingrea","updated_at":"2026-02-11T09:41:53.707908322+11:00","dependencies":[{"issue_id":"ai-jqx","depends_on_id":"ai-cvz","type":"blocks","created_at":"2026-02-11T09:44:13.241235595+11:00","created_by":"kingrea"}]}
{"id":"ai-js2","title":"Project scaffolding - Go module, deps, hello-world bubbletea","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-11T09:38:53.803830249+11:00","created_by":"kingrea","updated_at":"2026-02-11T10:02:20.909095032+11:00","closed_at":"2026-02-11T10:02:20.909095032+11:00","close_reason":"Closed","comments":[{"id":1,"issue_id":"ai-js2","author":"kingrea","text":"## What\nCreate the Go module, install dependencies, and get a basic bubbletea app running.\n\n## Files\n- main.go - Entry point, gets cwd, launches bubbletea with alt-screen\n- go.mod - Module lattice\n\n## Dependencies\n- charmbracelet/bubbletea - TUI framework\n- charmbracelet/lipgloss - TUI styling\n- charmbracelet/bubbles - TUI components (spinner, list)\n- BurntSushi/toml - Config file parsing\n\n## Done When\n- go build succeeds\n- Running binary shows alt-screen TUI with placeholder message","created_at":"2026-02-10T22:39:08Z"}]}
{"id":"ai-lmv","title":"Template embedding system - embed team-audit as Go templates","description":"Copy team-audit/ into templates/audit/, create .tmpl variants for dynamic files (.team, INSTRUCTIONS.md, TASK.md), wire up embed.FS with all: prefix for dotfiles. Static agent/skill files copy verbatim. Only 3 files need templating.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-11T09:39:21.460606099+11:00","created_by":"kingrea","updated_at":"2026-02-11T10:06:48.010660125+11:00","closed_at":"2026-02-11T10:06:48.010660125+11:00","close_reason":"Closed","dependencies":[{"issue_id":"ai-lmv","depends_on_id":"ai-js2","type":"blocks","created_at":"2026-02-11T09:43:07.227311312+11:00","created_by":"kingrea"}],"comments":[{"id":2,"issue_id":"ai-lmv","author":"kingrea","text":"## Files\n- templates/embed.go - //go:embed all:audit directive\n- templates/audit/ - Full copy of team-audit/ structure\n- templates/audit/.team.tmpl - Templated: team name, intensity\n- templates/audit/INSTRUCTIONS.md.tmpl - Existing content + bead prefix section\n- templates/audit/context/TASK.md.tmpl - Templated: target, roles, focus areas, bead prefix\n\n## Key Detail\nThe all: prefix in go:embed is critical - without it, dotfiles (.team, .opencode/) are silently excluded.\n\nAgent .md files and skill SKILL.md files are static - they read TASK.md at runtime for dynamic info.\n\n## Done When\n- templates.AuditTemplate.ReadDir works and returns all files including dotfiles\n- .tmpl files render correctly with test data","created_at":"2026-02-10T22:39:36Z"}]}
{"id":"ai-muq","title":"Launch orchestration - wire wizard to generator and tmux","description":"Wire the audit wizard step 5 to: 1) config.Init(cwd), 2) tmux.NewManager(), 3) tmux.CreateSession(lattice-timestamp), 4) for each selected audit type: allocate bead prefix, generate team folder, create tmux window, send-keys to cd + opencode run commissar, 5) config.Save(). Produces LaunchCompleteMsg to transition to dashboard.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-11T09:42:37.881975874+11:00","created_by":"kingrea","updated_at":"2026-02-11T09:42:37.881975874+11:00","dependencies":[{"issue_id":"ai-muq","depends_on_id":"ai-wnh","type":"blocks","created_at":"2026-02-11T09:45:08.485562704+11:00","created_by":"kingrea"},{"issue_id":"ai-muq","depends_on_id":"ai-0rl","type":"blocks","created_at":"2026-02-11T09:45:15.161799313+11:00","created_by":"kingrea"},{"issue_id":"ai-muq","depends_on_id":"ai-20l","type":"blocks","created_at":"2026-02-11T09:45:21.740655005+11:00","created_by":"kingrea"},{"issue_id":"ai-muq","depends_on_id":"ai-rkj","type":"blocks","created_at":"2026-02-11T09:45:28.96843899+11:00","created_by":"kingrea"}]}
{"id":"ai-rkj","title":"Audit wizard - 6-step configuration flow","description":"Create internal/tui/audit_wizard.go. Multi-step wizard: Step 0 (mode: manual/auto-generate), Step 1 (multi-select audit types from 8 options), Step 2 (agent count: 1/2/3), Step 3 (rigor: Light 1 loop / Standard 3 / Go Hard 99), Step 4 (confirmation summary), Step 5 (generating spinner + launch). Enter advances, Esc goes back.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-11T09:42:08.556814249+11:00","created_by":"kingrea","updated_at":"2026-02-11T09:42:08.556814249+11:00","dependencies":[{"issue_id":"ai-rkj","depends_on_id":"ai-jqx","type":"blocks","created_at":"2026-02-11T09:44:27.630585774+11:00","created_by":"kingrea"},{"issue_id":"ai-rkj","depends_on_id":"ai-8gd","type":"blocks","created_at":"2026-02-11T09:44:34.938058603+11:00","created_by":"kingrea"}]}
{"id":"ai-wnh","title":"Team folder generator - walk embedded FS and produce team dirs","description":"Create internal/teams/generator.go. Walks the embedded template FS, renders .tmpl files with audit-specific data (target, roles, focus areas, bead prefix, intensity), copies static files verbatim, and skips unused investigator files based on agent count. Produces a complete team folder in .lattice/teams/audit-{type}/.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-02-11T09:40:30.342384992+11:00","created_by":"kingrea","updated_at":"2026-02-11T10:24:38.071827503+11:00","closed_at":"2026-02-11T10:24:38.071827503+11:00","close_reason":"Closed","dependencies":[{"issue_id":"ai-wnh","depends_on_id":"ai-lmv","type":"blocks","created_at":"2026-02-11T09:43:28.484049088+11:00","created_by":"kingrea"},{"issue_id":"ai-wnh","depends_on_id":"ai-8gd","type":"blocks","created_at":"2026-02-11T09:43:35.094237212+11:00","created_by":"kingrea"},{"issue_id":"ai-wnh","depends_on_id":"ai-hvn","type":"blocks","created_at":"2026-02-11T09:43:41.681318097+11:00","created_by":"kingrea"}],"comments":[{"id":4,"issue_id":"ai-wnh","author":"kingrea","text":"## Key Logic\n- fs.WalkDir on embedded templates.AuditTemplate\n- Strip \"audit/\" prefix from paths to compute output paths\n- Strip .tmpl extension from output paths\n- Render .tmpl files with text/template using TemplateData struct\n- Copy non-.tmpl files verbatim\n- Skip investigator-bravo.md when agentCount \u003c 2\n- Skip investigator-charlie.md when agentCount \u003c 3\n\n## TemplateData struct\n- TeamName, Intensity, BeadPrefix, Target string\n- Roles []Role (only active roles for chosen agent count)\n- FocusAreas []string\n\n## Done When\n- Generate() produces complete folder with correct .team, TASK.md, INSTRUCTIONS.md\n- Correct number of investigator files based on agent count\n- All static files (agents, skills, DESCRIPTION.md, opencode.jsonc) present","created_at":"2026-02-10T22:40:46Z"}]}
{"id":"ai-x5s","title":"Main menu TUI model","description":"Create internal/tui/menu.go. Simple list menu with options: Audit, Quit (Action is future work). Selecting Audit navigates to the audit wizard. Clean header with LATTICE branding.","status":"open","priority":1,"issue_type":"task","created_at":"2026-02-11T09:42:01.190466596+11:00","created_by":"kingrea","updated_at":"2026-02-11T09:42:01.190466596+11:00","dependencies":[{"issue_id":"ai-x5s","depends_on_id":"ai-cvz","type":"blocks","created_at":"2026-02-11T09:44:19.928135647+11:00","created_by":"kingrea"}]}
